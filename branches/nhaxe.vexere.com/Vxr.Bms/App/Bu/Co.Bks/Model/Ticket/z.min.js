var T=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt){this._id=n;this._dept=t;this._cid=i;this._cname=r;this._cphone=u;this._status=f;this._issue=e;this._pdate=o;this._fare=s;this._note=h;this._pInfo=c;this._seri=l;this._pmInfo=a;this._hInfo=v;this._code=y;this._pcode=p;this._fromValid=w;this._toValid=b;this._updatedDate=k;this._aInfo=d;this._surCharge=g;this._deposit=ut;this._discount=ft;this._suser=nt;this._cuser=tt;this.stageCode=it;this.tripId=rt;this.fromArea=et;this.toArea=ot;this._seatType=st;this._debt=ht;this._canceledDate=ct;this._cancelInfo=lt;this._type=at;this._chargeDate=vt;this._sNote=yt;this._responUser=pt;this._porDate=wt};T.prototype._getCustomerInfo=function(){var n=this;return typeof n._cid=="undefined"&&(n._cid=0),typeof n._cname=="undefined"&&(n._cname=""),typeof n._cphone=="undefined"&&(n._cphone=""),"1|1|"+n._cid+"|"+n._cname+"|"+n._cphone};T.prototype._clone=function(){var n=this;return $.extend({},n)};T.prototype._isBooking=function(){return this._status==1};T.prototype._isNotCome=function(){return this._status==4};T.prototype._isCancelled=function(){return this._status==3};T.prototype._isValid=function(){return this._status==6};T.prototype._isOpen=function(){return this._status==7};T.prototype._isPaid=function(){return this._status==2};T.prototype._isPass=function(){return this._status==5};T.prototype._renderVVTicket=function(){var n=this,t={ticket:{_code:n._code,_cname:vGln(n._cname),_cphone:n._getDefaultPhoneNumber(),_fValid:n._fromValid.toFormatString("dd-mm-yyyy"),_tValid:n._toValid.toFormatString("dd-mm-yyyy")}};return $(vtpl(_dict._vTpl,t))};T.prototype._renderVOTicket=function(){var n=this,t={ticket:{_code:n._code,_cname:vGln(n._cname),_cphone:n._getDefaultPhoneNumber(),_fOpen:n._updatedDate.toFormatString("dd-mm-yyyy")}};return $(vtpl(_dict._oTpl,t))};T.prototype._renderVCTicket=function(){var n=this,t=n._getCanceledDate(),i={ticket:{_code:n._code,_cname:vGln(n._cname),_cphone:n._getDefaultPhoneNumber(),_cDate:$.isEmptyObject(t)?"":t.toFormatString("dd-mm-yyyy hh:ii")}};return $(vtpl(_dict._cTpl,i))};T.prototype._renderPaymentInfo=function(){var n=this._pmInfo.split(":"),u="",t,i,r;$.each(_dict._pm,function(t,i){u==""&&i[0]==n[0]&&(u=i[3])});t="";switch(parseInt(n[0])){case 1:case 6:i=n[2].split("|")[2];typeof i=="undefined"&&(i="");t=i;break;case 2:r=n[2].split("|")[1];typeof r=="undefined"&&(r="");t=": "+r;break;case 3:t=n[2];break;case 4:t=": "+n[2];break;case 5:t=n[2]}return u+t};T.prototype._getDefaultPhoneNumber=function(){var n=this;return vIsEstStr(n._cphone)?$.trim(n._cphone.split("-")[0]):""};T.prototype._getTicketCode=function(){var n=this;return vIsEstStr(n._code)?$.trim(n._code):""};T.prototype._parseHistoryInfo=function(){var i=this,f=[],r,t,n,e,u;try{if(vIsEstStr(i._hInfo))for(r=i._hInfo.split("~").reverse(),t=0;t<r.length;t++){n=r[t].split("##");switch(n[5]){case"UpdateBookTicket":n[5]="Cập nhật";break;case"BookTicket":n[5]="Đặt vé"}vIsEstStr(n[6])&&(e=$.parseJSON($.trim(n[6])),u="",$.each(e,function(n,t){_dict._historyKeys.hasOwnProperty(n)&&(u+=_dict._historyKeys[n][_dict._lang]+":&nbsp;"+i._convertHistoryItem(n,t)+"<br />")}),f.push([n[3],n[5],vPrsDt(n[4]).toFormatString("dd-mm-yyyy hh:ii"),u]))}}catch(o){console.log(o)}return f};T.prototype._convertHistoryItem=function(n,t){var l=this,i="",r,u,f,e,o,s,h,c;switch(n){case"CancelType":i=vIsEstStr(_dict._cancelType[t])?_dict._cancelType[t]:"";break;case"AgentInfo":i=l._getAgentFName(t);break;case"TripDate":case"IssueDate":case"PickupDate":i=vPrsDt(t).toFormatString("dd-mm-yyyy hh:ii");break;case"Status":i=_dict._stn[parseInt(t)][_dict._lang];break;case"Fare":case"Surcharge":i=parseInt(t).toMn()+" đ";break;case"CancelFee":i=parseInt(t).toMn()+" đ";break;case"Deposit":i=parseInt(t).toMn()+" đ";break;case"Debt":i=parseInt(t).toMn()+" đ";break;case"Discount":i=parseInt(t).toMn()+" đ";break;case"SeatCode":i=t.split("|")[0];break;case"PickupInfo":r=t.split("|");r.length>0&&(i="P:&nbsp;"+r[0]+" - T:&nbsp;"+r[1]+" - STT:&nbsp;"+r[2]);break;case"PaymentInfo":if(t!=null&&(u=t.split(":"),u.length>0)){$.each(_dict._pm,function(n,t){i==""&&t[0]==u[0]&&(i=t[3])});switch(parseInt(u[0])){case 1:case 6:f=u[2].split("|")[3];typeof f=="undefined"&&(f="");i=f}}break;case"CustomerInfo":e=t.split("|");e.length>0&&(i=e[3]+"("+e[4]+")");break;case"FromArea":o=t.indexOf("<");s=t.substr(o,t.length).split("|");i=s[3];break;case"ToArea":h=t.indexOf("<");c=t.substr(h,t.length).split("|");i=c[3];break;default:i=t}return i};T.prototype._getAgentFName=function(n){return $.trim(n.split("|")[3])};T.prototype._getCanceledDate=function(){var i=this,t={};try{var r=i._hInfo.split("~").reverse(),n=r[0].split("##"),u=JSON.parse(n[6]);n[5]=="UpdateBookTicket"&&u.Status==3&&(t=vPrsDt(n[4]))}catch(f){}return t};T.prototype._getOpenDate=function(){var n=this;return n._updatedDate.toFormatString("HH:mm - dd.mm.yyyy")};T.prototype._getTimeValid=function(){var n=this;return n._fromValid.toFormatString("dd.mm.yyyy")+" &#8594; "+n._toValid.toFormatString("dd.mm.yyyy")};T.prototype._getPaymentInfo=function(){var f=this,t={},n,r,i,u,e,o,s;if(vIsEstStr(f._pmInfo)){n=f._pmInfo.split(":");t.type=parseInt(n[0]);t.name=$.trim(n[1]);r="";$.each(_dict._pm,function(n,i){r==""&&i[0]==t.type&&(r=i[3])});t.sname=r;t.info={};switch(t.type){case 1:case 6:vIsEstStr(n[2])&&(i=n[2].split("|"),t.info={_id:parseInt(i[0]),_type:parseInt(i[1]),_code:$.trim(i[2]),_name:$.trim(i[3])});break;case 2:vIsEstStr(n[2])&&(u=n[2].split("|"),t.info={_bnumber:u[0],_name:$.trim(u[1]),_tcode:$.trim(u[2])});break;case 3:vIsEstStr(n[2])&&(e=n[2],t.info={_addr:$.trim(e)});break;case 4:vIsEstStr(n[2])&&(o=n[2],t.info={_dname:$.trim(o)});break;case 5:vIsEstStr(n[2])&&(s=n[2],t.info={_tcode:$.trim(s)})}}return t};T.prototype._getPickupInfo=function(){var r=this,i={},n,t;return null!=r._pInfo&&(n=r._pInfo.split("|"),t=0,vIsEstStr(n[2])&&(t=parseInt(n[2]),isNaN(t)&&(t=0)),null!=n[1]&&""!=n[1]?i={type:"T",text:n[1],pIndex:t}:null!=n[0]&&""!=n[0]&&(i={type:"P",text:n[0],pIndex:t})),i};T.prototype._getAgentInfo=function(){var t=this,n;return vIsEstStr(t._aInfo)?(n=t._aInfo.split("|"),{_id:n[0],_type:n[1],_code:n[2],_name:n[3]}):{}};T.prototype._getStatusText=function(){var t=this,n="";switch(t._status){case 1:n="Đặt chỗ";break;case 2:n="Đã thanh toán";break;case 3:n="Hủy";break;case 4:n="Không đến";break;case 5:n="Đã thanh toán";break;case 6:n="Vé mở";break;case 7:n="Vé mở";break;case 8:n="Đặt chỗ"}return n};T.prototype._getLastUpdateUser=function(){var i=this,r="",n,t;try{vIsEstStr(i._hInfo)&&(n=i._hInfo.split("~").reverse(),n.length>0&&(t=n[0].split("##"),vIsEstStr(t[3])&&(r=t[3])))}catch(u){console.log(u)}return r};
//# sourceMappingURL=z.min.js.map
