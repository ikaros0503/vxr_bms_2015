define({onBeginSelectionChange:function(n,t){vv.enableItem(n,"button.delete",t!=null)},onItemLoaded:function(n){var t=this,h=t.o,r=h.view,u=n.BaseId,f=vGetArr({Id:u},!1,t.listArea),e,i,o,s;if(!(f.length<=0)){e=f[0].BaseId;t._initOptionCity();i=$(r).find(".city");i.val(e);o={target:i};t.onCityChange("","",o);s=$(r).find(".ward");s.val(u)}},onAfterUnloadItem:function(){var n=this;n._unloadAreaTable()},afterReload:function(){var n=this,t,i;n.listArea=[];t={_a:"fGetArea",_c:{IsPrgStatus:1,Type:"(($x) IN (1,2,3,4,5,6,7,8,9))"},_f:"Id, Type, Name, BaseId"};i=t._f.split(",");vRql(t,{a:function(){},m:function(t,r){var u={};$.each(i,function(n,t){t=t.trim();u[t]=r[n]});n.listArea.push(u)},z:function(){n.listArea=vSort("Name",!0,n.listArea);n._initOptionCity()}},n)},gDisType:function(n){var i=this.cf.options,r=n.record.Type,t=_.where(i,{Id:r});return t[0]?t[0].Name:""},svcBaseId:function(n,t){return t?t:null},_initOptionCity:function(n){var i=this,r=i.o,u,t;(n||(n=r.view),r.gId=="areaTableContainer")&&(u=n.find(".city"),t=vGetArr({Type:3},!1,i.listArea),t=vSort("Name",!0,t),t=[{Id:-1,Name:"Chọn thành phố"}].concat(t),$.each(t,function(n,t){$.vCheckAndAppendOptions(u,t.Id,t.Name,"R")}))},onCityChange:function(){var n=this,t=n.o.view,u=parseInt($(t).find(".city").val()),i=$(t).find(".ward"),r;i.empty();r=vGetArr({BaseId:u},!1,n.listArea);$.each(r,function(n,t){$.vCheckAndAppendOptions(i,t.Id,t.Name,"R")})},onWardChange:function(n,t,i){var u=this,r=$(i.target),f=parseInt(r.val())},onAreaClear:function(){var n=this;n._unloadAreaTable()},onAreaSave:function(){var r=this,o=r.o,n=o.view,t=!1,i="",s=$(n).find(".city"),u,f,e;s.val()==-1&&(t=!0,i+="Vui lòng chọn thành phố. \n");u=$(n).find(".ward");f=$(n).find(".name");vIsEstStr(f.val())||(t=!0,i+="Vui lòng nhập tên. \n");e=$(n).find(".code");vIsEstStr(e.val())||(t=!0,i+="Vui lòng nhập mã địa điểm.");t?vv.showMessage({element:n.find(".alert.message"),type:"alert-danger",content:i}):($(n).find(".baseId").val(u.val()),r.onBasicSave(),r._unloadAreaTable())},onAreaDelete:function(){this.onBasicDelete();this._unloadAreaTable()},_unloadAreaTable:function(){var t=this,u=t.o,n=u.view,i=$(n).find(".city"),r;i.val(-1);r={target:i};t.onCityChange("","",r);$(n).find(".name").val("");$(n).find(".code").val("");$(n).find(".address").val("");$(n).find(".guide-note").val("")}});
//# sourceMappingURL=p.min.js.map
