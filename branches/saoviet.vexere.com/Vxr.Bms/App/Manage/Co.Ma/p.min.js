define({onSearchComp:function(){var t=this,i=t.view,r=$(i).find("input.comp-name").val(),n=[],u,f;t._crtSrcCnd(r,n);n.push("($x like N'%"+r+"%')");u={_a:"fGetCompany",_c:{Name:n.join(" or "),Type:1,IsPrgStatus:"($x is null or $x != 3)"},_f:"Id, Name, Fullname, AddressInfo, PhoneInfo"};f=function(n,t){var r=$(i).find(".search-result"),u="";n!=1||t.length==0?r.html("Không tìm thấy nhà xe."):($.each(t,function(n,t){u+="<b>"+t[1]+"<\/b> - "+t[4]+" - "+t[3]+"<br/>"}),r.html(u))};vRqs(u,f)},onSaveComp:function(){var i=this,c=i.o,n=c.view,u=!1,f="",e=$(n).find(".comp-name"),l=$(n).find(".congty_id_hidden"),o=$(n).find(".comp-full-name"),s=$(n).find(".comp-address-info"),r=$(n).find(".comp-phone-info"),t,h;e.val()==""&&(u=!0,f+="Vui lòng nhập tên công ty. \n");r.val()!=""&&(vIsPNum(r.val())||(u=!0,f+="\nSố điện thoại không hợp lệ."));u?vv.showMessage({element:n.find(".alert.message"),type:"alert-danger",content:f}):(h={Name:""+e.val()+"",FullName:""+o.val()+"",PhoneInfo:""+r.val()+"",AddressInfo:""+s.val()+""},t={_a:"InCompany",_c:{},_d:h},t._d.IsPrgStatus=1,t._d.BaseId=app.cid,t._d.Type=1,vRqs(t,function(t,u){t?(i.onActionComplete&&i.onActionComplete.call(i),vv.showMessage({element:n.find(".alert.message"),type:"alert-success",content:"Thao tác thành công."}),l.val(u[0]),e.removeClass("bdred").attr("disabled","disabled"),o.attr("disabled","disabled"),s.attr("disabled","disabled"),r.attr("disabled","disabled"),n.find("button.saveComp").addClass("btn-disabled").attr("disabled","disabled"),n.find("button.refreshCom").addClass("btn-disabled").attr("disabled","disabled"),n.find("button.saveCN").removeClass("btn-disabled").removeAttr("disabled"),n.find("button.refreshCN").removeClass("btn-disabled").removeAttr("disabled")):vv.showMessage({element:n.find(".alert.message"),type:"alert-danger",content:"Thao tác thất bại, vui lòng thử lại sau."})}))},onCompClear:function(){var t=this,i=t.o,n=i.view;$(n).find(".comp-name").val("");$(n).find(".comp-full-name").val("");$(n).find(".comp-phone-info").val("");$(n).find(".comp-address-info").val("")},onSaveChiNhanh:function(){var r=this,a=r.o,n=a.view,f=!1,e="",v=$(n).find(".congty_id_hidden"),y=$(n).find(".ChiNhanh_id_hidden"),o=$(n).find("select.agent-id"),s=$(n).find("select.tk-agent-id"),i=$(n).find(".CN-name"),h=$(n).find(".CN-code-info"),c=$(n).find(".CN-address-info"),u=$(n).find(".CN-phone-info"),t,l;i.val()==""&&(f=!0,e+="Vui lòng nhập tên Chi nhánh - Đại lý. \n");u.val()!=""&&(vIsPNum(u.val())||(f=!0,e+="\nSố điện thoại không hợp lệ."));f?vv.showMessage({element:n.find(".alert.message"),type:"alert-danger",content:e}):(l={Name:""+i.val()+"",Code:""+h.val()+"",PhoneInfo:""+u.val()+"",AddressInfo:""+c.val()+""},t={_a:"InCompany",_c:{},_d:l},t._d.AvailableFund=0,t._d.IsPrgStatus=1,t._d.BaseId=v.val(),t._d.Type=2,vRqs(t,function(t,f){t?(r.onActionComplete&&r.onActionComplete.call(r),vv.showMessage({element:n.find(".alert.message"),type:"alert-success",content:"Thao tác thành công."}),y.val(f[0]),o.append($("<option>",{value:f[0],text:i.val()})),o.val(f[0]),s.append($("<option>",{value:f[0],text:i.val()})),s.val(f[0]),i.removeClass("bdred").attr("disabled","disabled"),h.attr("disabled","disabled"),c.attr("disabled","disabled"),u.attr("disabled","disabled"),n.find("button.saveCN").addClass("btn-disabled").attr("disabled","disabled"),n.find("button.refreshCN").addClass("btn-disabled").attr("disabled","disabled"),n.find("button.saveNhanVien").removeClass("btn-disabled").removeAttr("disabled"),n.find("button.refreshNV").removeClass("btn-disabled").removeAttr("disabled")):vv.showMessage({element:n.find(".alert.message"),type:"alert-danger",content:"Thao tác thất bại, vui lòng thử lại sau."})}))},onCNClear:function(){var t=this,i=t.o,n=i.view;$(n).find(".CN-name").val("");$(n).find(".CN-code-info").val("");$(n).find(".CN-phone-info").val("");$(n).find(".CN-address-info").val("")},onSaveNhanVien:function(){var i=this,l=i.o,n=l.view,f=!1,e="",a=$(n).find(".congty_id_hidden"),r=$(n).find(".nv-full-name"),o=$(n).find(".nv-email-info"),s=$(n).find("select.agent-id"),u=$(n).find(".nv-phone-info"),h=$(n).find(".person-id"),t,c;r.val()==""&&(f=!0,e+="Vui lòng nhập họ và tên nhân viên. \n");u.val()!=""&&(vIsPNum(u.val())||(f=!0,e+="\nSố điện thoại không hợp lệ."));f?vv.showMessage({element:n.find(".alert.message"),type:"alert-danger",content:e}):(c={FullName:""+r.val()+"",AgentId:""+s.val()+"",PhoneInfo:""+u.val()+"",EmailInfo:""+o.val()+""},t={_a:"InPerson",_c:{},_d:c},t._d.Gender="2",t._d.IsPrgStatus=1,t._d.CompId=a.val(),t._d.Type=1,vRqs(t,function(t,f){t?(i.onActionComplete&&i.onActionComplete.call(i),vv.showMessage({element:n.find(".alert.message"),type:"alert-success",content:"Thao tác thành công."}),h.append($("<option>",{value:f[0],text:r.val()})),h.val(f[0]),r.removeClass("bdred").attr("disabled","disabled"),s.attr("disabled","disabled"),o.attr("disabled","disabled"),u.attr("disabled","disabled"),n.find("button.saveNhanVien").addClass("btn-disabled").attr("disabled","disabled"),n.find("button.refreshNV ").addClass("btn-disabled").attr("disabled","disabled"),n.find("button.saveTK").removeClass("btn-disabled").removeAttr("disabled"),n.find("button.refreshTK").removeClass("btn-disabled").removeAttr("disabled")):vv.showMessage({element:n.find(".alert.message"),type:"alert-danger",content:"Thao tác thất bại, vui lòng thử lại sau."})}))},onNVClear:function(){var t=this,i=t.o,n=i.view;$(n).find(".nv-full-name").val("");$(n).find(".nv-email-info").val("");$(n).find(".nv-phone-info").val("")},onSaveTaiKhoan:function(){var i=this,l=i.o,n=l.view,r=!1,u="",s=$(n).find(".congty_id_hidden"),a=$(n).find(".ChiNhanh_id_hidden"),f=$(n).find(".user-name"),e=$(n).find(".password"),o=$(n).find(".person-id"),h=$(n).find(".tk-agent-id"),t,c;f.val()==""&&(r=!0,u+="Vui lòng nhập tài khoản. \n");e.val()==""&&(r=!0,u+="Vui lòng nhập mật khẩu. \n");r?vv.showMessage({element:n.find(".alert.message"),type:"alert-danger",content:u}):(c={Username:""+f.val()+"",AgentId:""+h.val()+"",Password:""+e.val()+"",PersonId:""+o.val()+""},t={_a:"InAccount",_c:{},_d:c},t._d.IsPrgPartComp=""+s.val()+"-"+a.val()+"-"+o.val()+"",t._d.Role="",t._d.Info="1~1|45|0~1|10091|1~1|10096|1~1|10093|1~5|10101|1~5|10102|1~5|10105|1~5|10104|1~5|10106|1~1|10107|1~1|30001|1~12|10065|1~5|10092|1~1|30005|1~1|5000|1~2|5001|1~1|5003|1~1|5004|1~2|5005|1~1|5006|1~1|5007|1~1|5008|1~1|5009|1~1|5010|1~2|5012|1~2|5013|1~2|5014|1~2|5015|1~2|5016|1~2|5017|1~2|5018|1~2|5019|1~1|5020|1~1|5021|1~1|5022|1~2|5023|1~2|5024|1~1|5025|1~1|5026|1~1|5027|1~1|4000|1~1|4001|1~1|4002|1~1|4003|1~1|4004|1~1|4005|1~1|4006|1~1|4007|1~1|4008|1~1|4009|1~1|4010|1~1|4011|1~1|4012|1~1|4013|1~1|4014|1~1|4015|1~1|4016|1~1|4017|1~1|4018|1~1|4019|1~1|4020|1~1|4021|1~1|1000|1~1|1100|1~1|1101|1~1|1102|1~1|1103|1~2|1104|1~1|1105|1~1|1200|1~2|1201|1~1|1300|1~1|1301|1~1|1302|1~1|1400|1~1|1500|1~1|1600|1~1|1700|1~1|1701|1~1|1702|1~1|1800|1~1|1900|1~1|2000|1~1|2001|1~2|2002|1~2|2003|1~2|2004|1~2|2005|1~1|2100|1~1|2101|1~1|2102|1~1|2200|1~1|2300|1~1|2400|1~1|2500|1~1|2600|1~1|2700|1~1|2800|1~4|1|1~1|7000|1",t._d.IsPrgStatus=1,t._d.CompId=s.val(),t._d.Type=1,vRqs(t,function(t){t?(i.onActionComplete&&i.onActionComplete.call(i),vv.showMessage({element:n.find(".alert.message"),type:"alert-success",content:"Thao tác thành công."}),f.removeClass("bdred").attr("disabled","disabled"),h.attr("disabled","disabled"),e.removeClass("bdred").attr("disabled","disabled"),o.attr("disabled","disabled"),n.find("button.saveTK").addClass("btn-disabled").attr("disabled","disabled"),n.find("button.refreshTK").addClass("btn-disabled").attr("disabled","disabled")):vv.showMessage({element:n.find(".alert.message"),type:"alert-danger",content:"Thao tác thất bại, vui lòng thử lại sau."})}))},onTKClear:function(){var t=this,i=t.o,n=i.view;$(n).find(".user-name").val("");$(n).find(".password").val("")},_crtSrcCnd:function(n,t){var i=this;$.each({e:["é","è","ẽ","ẹ","ẻ","ê","ế","ề","ệ","ễ","ể"],u:["ù","ú","ủ","ũ","ụ","ư","ử","ự","ử","ữ","ừ"],i:["í","ì","ị","ỉ","ĩ"],a:["á","à","ã","ả","ạ","ă","ắ","ằ","ẳ","ẵ","ặ","â","ấ","ẫ","ậ","ầ","ẩ"],o:["ỏ","ò","ó","õ","ọ","ô","ồ","ố","ổ","ộ","ỗ","ơ","ớ","ở","ờ","ợ","ỡ"]},function(r,u){n.indexOf(r)!=-1&&$.each(u,function(u,f){var e=n.replace(r,f);t.push("($x like N'%"+e+"%')");i._crtSrcCnd(e,t)})})}});
//# sourceMappingURL=p.min.js.map
