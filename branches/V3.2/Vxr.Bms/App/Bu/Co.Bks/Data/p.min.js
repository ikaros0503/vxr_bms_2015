define({start:function(n){try{this.o=n;vdc=this}catch(t){console.log("(E) Co.Bks/Data",t)}},gD:function(n,t){var i=this,r={_a:"loadBms",_cid:app.cid,_tid:0};app.rights.match(/~3\|1\|(\d+)/g)&&(r._tid=app.rights.match(/~3\|1\|(\d+)/g)[0].split("|")[2]);n&&(n.t&&!isNaN(n.t)&&(r._tid=n.t),n.d&&moment(n.d,"DD.MM.YYYY").isValid()&&(r._tD=moment(n.d,"DD.MM.YYYY").format("YYYY-MM-DD")),n.h&&moment(n.h,"HH.mm").isValid()&&(r._tT=moment(n.h,"HH.mm").format("HH:mm")));vRqs(r,function(n,r){n==1&&(i.o.Trips=r[0],i.o.Bus_tickets_status=r[1],i.o.TripTotalSeatInfo=r[2],i.o.Tickets=r[3],i.o.Companies=r[4],i.o.PhoiTemplates=r[5],typeof t=="function"&&t.call(this))})},gPhoiTemplates:function(n,t,i,r,u){var f=this,e,o;i?(e="*",o={_a:"fGetPhoi_SeatTemplate",_c:n,_f:t=="#"?e:t},vRqu(o,function(n,t,i,r){f.o.PhoiTemplates=t;typeof u=="function"&&u.call(this,n,t,i,r)},r)):typeof u=="function"&&u.call(this,1,f.o.PhoiTemplates,f.o.PhoiTemplates?f.o.PhoiTemplates.length:0)},fillPhoiTemplate:function(n){for(var t,u,i,r=this,f=0;f<n.length;f++){for(t=n[3],t!=null&&t.indexOf("~")>=0&&(t=t.substring(t.indexOf("~")+1)),u=!1,i=0;i<r.o.PhoiTemplates.length;i++)if(t==r.o.PhoiTemplates[i][4]){n.push(r.o.PhoiTemplates[i][5]);u=!0;break}u||n.push("")}return n},gTripByDate:function(n,t,i,r,u){var f=this,e,o;n||(n=new Date);i?(e="Id, Name, Info, SeatTemplateInfo, FareInfo, StatusInfo, BaseId, Type, Time, Alias, TeamInfo, VehicleInfo, FromArea, ToArea, Note, RouteInfo, SeatSummaryInfo, TotalSeats, ClosedStatus, PassengerMoney, ProductMoney, FeeMoney, BranchReceiveProduct, RealDepartureTime, PickedPointsInfo, TransferPointsInfo, NewFare, DisplayOrder, Description, TotalBookedSeats, TotalPaidSeats",o={_a:"fGetTrip",_c:{CompId:app.cid,IsPrgStatus:"(ISNULL($x, -1) != 3)",Date:"(type = 1 or (type = 2 and Time is not null and $x = N'"+n.toFormatString("yyyy-mm-dd")+"')) order by type, DisplayOrder, name asc"},_f:t=="#"?e:t},vRqs(o,function(n,t,i,r){f.o.Trips=t;typeof u=="function"&&u.call(this,n,t,i,r)},r)):typeof u=="function"&&u.call(this,1,f.o.Trips,f.o.Trips.length)},gTripTotalSeatInfo:function(n,t,i,r){var u=this,f,e;i?(f="*",e={_a:"sGetTripTotalSeatInfo",_c:n,_f:t=="#"?f:t},vRqs(e,function(n,t,i,f){u.o.TripTotalSeatInfo=t;typeof r=="function"&&r.call(this,n,t,i,f)})):typeof r=="function"&&r.call(this,1,u.o.TripTotalSeatInfo,u.o.TripTotalSeatInfo.length)},gBusTicketStatus:function(n,t,i,r,u){var f=this,e,o;i?(e="Id, XTypeId, XAgentId, XBranchId, XOperatorId, XCompanyId, XRouteId, XTripId, XDate, XTime, XStatus, Info, TimeLimit",o={_a:"fGetBus_Tickets_Status",_c:n,_f:t=="#"?e:t},vRqs(o,function(n,t,i,r){f.o.Bus_tickets_status=t;typeof u=="function"&&u.call(this,n,t,i,r)},r)):typeof u=="function"&&u.call(this,1,f.o.Bus_tickets_status,f.o.Bus_tickets_status.length)},gTicket:function(n,t,i,r,u){var f=this,e,o;i?(e="*",o={_a:"fGetTicketByStore",_c:n,_f:t=="#"?e:t},vRqu(o,function(n,t){f.o.Tickets=t&&t.length>0?t:[];typeof u=="function"&&u.call(this,n,f.o.Tickets,f.o.Tickets.length)},r)):typeof u=="function"&&u.call(this,1,f.o.Tickets,f.o.Tickets?f.o.Tickets.length:0)},gCompany:function(n,t,i,r,u){var f=this,e,o;i?(e="Id, Type, Code, Name, AddressInfo, PhoneInfo",o={_a:"fGetCompany",_c:n,_f:t=="#"?e:t},vRqu(o,function(n,t,i,r){f.o.Companies=t;typeof u=="function"&&u.call(this,n,t,i,r)},r)):typeof u=="function"&&u.call(this,1,f.o.Companies,f.o.Companies.length)}});
//# sourceMappingURL=p.min.js.map
